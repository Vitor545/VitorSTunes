{"version":3,"sources":["components/ Loading.js","pages/Login.js","components/Header.js","services/searchAlbumsAPI.js","services/userAPI.js","components/Forms.js","pages/Search.js","services/musicsAPI.js","services/favoriteSongsAPI.js","components/MusicCard.js","pages/Album.js","pages/Favorites.js","pages/Profile.js","pages/ProfileEdit.js","pages/NotFound.js","App.js","index.js"],"names":["Loading","className","Component","Login","this","props","handleChange","isButtonDisable","onClickButton","loading","irSearch","to","htmlFor","type","id","onChange","placeholder","disabled","onClick","Header","state","userName","Fragment","name","searchAlbumsAPI","artist","a","artistNameURL","encodeURI","replaceAll","getAlbumsAPI","fetch","APIResponse","json","results","response","map","artistId","artistName","collectionId","collectionName","collectionPrice","artworkUrl100","releaseDate","trackCount","USER_KEY","saveUser","user","localStorage","setItem","JSON","stringify","simulateRequest","callback","setTimeout","getUser","Promise","resolve","parse","getItem","Forms","albumApi","album","src","alt","Search","banda","bandasave2","isButtonDSearch","bandaRecomendacion","bind","buttonSearch","checkButtonSearch","geraMusica","getRecomendacion","geraMusicaRecom","valueDigitado","target","value","setState","recuperaUser","getsearchAlbumsAPI","length","Number","getMusics","request","requestJson","FAVORITE_SONGS_KEY","readFavoriteSongs","saveFavoriteSongs","favoriteSongs","addSong","song","CardMusic","checked","music","favorite","getMusicFavorita","setStateMusic","trackMeu","console","log","musicaId","previewUrl","trackName","trackId","saveId","controls","kind","Album","musicAlbum","match","params","getMusicAlbum","slice","defaultProps","NotFound","App","checkButton","email","image","description","then","exact","path","render","React","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ed3d9432.chunk.js","sourcesContent":["import React, { Component } from 'react';\n\nexport default class Loading extends Component {\n  render() {\n    return (\n      <div className=\"loading\">\n        <span></span>\n        <span></span>\n        <span></span>\n        <span></span>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Redirect } from 'react-router';\nimport Loading from '../components/ Loading';\n\nexport default class Login extends Component {\n  render() {\n    const {\n      handleChange,\n      isButtonDisable,\n      onClickButton,\n      loading,\n      irSearch } = this.props;\n    if (irSearch) return <Redirect to=\"/search\" />;\n    return loading ? <Loading /> : (\n      <div data-testid=\"page-login\" className='contanner-login'>\n        <p className='vs'>VS TUNES</p>\n        <label htmlFor=\"login-name-input\">\n          <input\n            type=\"text\"\n            id=\"login-name-input\"\n            onChange={ handleChange }\n            data-testid=\"login-name-input\"\n            placeholder=\"Digite seu nome\"\n          />\n        </label>\n        <button\n          type=\"button\"\n          data-testid=\"login-submit-button\"\n          disabled={ isButtonDisable }\n          onClick={ onClickButton }\n        >\n          Entrar\n        </button>\n      </div>\n    );\n  }\n}\n\nLogin.propTypes = {\n  handleChange: PropTypes.func.isRequired,\n  isButtonDisable: PropTypes.bool.isRequired,\n  onClickButton: PropTypes.func.isRequired,\n  loading: PropTypes.bool.isRequired,\n  irSearch: PropTypes.bool.isRequired,\n};\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default class Header extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  // Muito pararecido com o requesito 2 somente muda que tem que colocar componentDidMount para que\n  // no primeiro ciclo de vida o recuperaUser rode.\n\n  render() {\n    const { userName } = this.props;\n    return (\n      <React.Fragment>\n        <header className=\"header-component\" data-testid=\"header-component\">\n          <p data-testid=\"header-user-name\">{userName.name}</p>\n          {\n            // Source do Link: https://reactrouter.com/web/api/Link, bastante coisa interessante\n          }\n          <Link to=\"/search\" data-testid=\"link-to-search\">Search</Link>\n        </header>\n      </React.Fragment>\n    );\n  }\n}\n","const searchAlbumsAPI = async (artist) => {\n  const artistNameURL = encodeURI(artist).replaceAll('%20', '+');\n\n  const getAlbumsAPI = `https://itunes.apple.com/search?entity=album&term=${artistNameURL}&attribute=allArtistTerm`;\n\n  const APIResponse = await fetch(getAlbumsAPI);\n\n  const { results } = await APIResponse.json();\n\n  const response = results.map(\n    ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }) => ({\n      artistId,\n      artistName,\n      collectionId,\n      collectionName,\n      collectionPrice,\n      artworkUrl100,\n      releaseDate,\n      trackCount,\n    }),\n  );\n  return response;\n};\n\nexport default searchAlbumsAPI;\n","const USER_KEY = 'user';\nconst TIMEOUT = 1500;\nconst SUCCESS_STATUS = 'OK';\n\nconst readUser = () => JSON.parse(localStorage.getItem(USER_KEY));\nconst saveUser = (user) => localStorage.setItem(USER_KEY, JSON.stringify(user));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso mais futuramente\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getUser = () => new Promise((resolve) => {\n  let user = readUser();\n  if (user === null) {\n    user = {};\n  }\n  simulateRequest(user)(resolve);\n});\n\nexport const createUser = (user) => new Promise((resolve) => {\n  const emptyUser = {\n    name: '',\n    email: '',\n    image: '',\n    description: '',\n  };\n  saveUser({ ...emptyUser, ...user });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const updateUser = (updatedUser) => new Promise((resolve) => {\n  saveUser({ ...updatedUser });\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport default class Forms extends Component {\n  render() {\n    const { albumApi } = this.props;\n    return (\n      <div className=\"group-class\">\n        {albumApi.map((album) => (\n          <Link\n            to={ `/album/${album.collectionId}` }\n            key={ album.collectionId }\n            data-testid={ `link-to-album-${album.collectionId}` }\n          >\n            <div>\n              <img src={ album.artworkUrl100 } alt={ album.collectionId } />\n              <p>{ album.collectionName }</p>\n              <p>{ album.artistName }</p>\n            </div>\n          </Link>\n        ))}\n      </div>\n    );\n  }\n}\n\nForms.propTypes = {\n  albumApi: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport { getUser } from '../services/userAPI';\nimport Loading from '../components/ Loading';\nimport Forms from '../components/Forms';\n\nexport default class Search extends Component {\n  constructor() {\n    super();\n    this.state = {\n      banda: '',\n      bandasave2: '',\n      albumApi: [],\n      isButtonDSearch: true,\n      loading: true,\n      userName:'',\n      bandaRecomendacion: '',\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.buttonSearch = this.buttonSearch.bind(this);\n    this.checkButtonSearch = this.checkButtonSearch.bind(this);\n    this.geraMusica = this.geraMusica.bind(this);\n    this.getRecomendacion = this.getRecomendacion.bind(this);\n    this.geraMusicaRecom = this.geraMusicaRecom.bind(this);\n\n  }\n  // requesito 5 e 6 muito parecido com o do Login\n\n  handleChange({ target }) {\n    const valueDigitado = target.value;\n    this.setState({ banda: valueDigitado }, () => this.checkButtonSearch());\n  }\n\n  async getsearchAlbumsAPI() {\n    const { banda } = this.state;\n    const albumApi = await searchAlbumsAPI(banda);\n    this.setState({ albumApi }, () => this.setState({\n      loading: false,\n      banda: '',\n    }));\n  }\n\n  componentDidMount() {\n    this.getRecomendacion();\n    this.recuperaUser();\n\n  }\n\n  async getRecomendacion() {\n    const albumApi = await searchAlbumsAPI(\"eminem\");\n    this.setState({ bandaRecomendacion: albumApi });\n  }\n\n  geraMusicaRecom(albumApi) {\n    return (\n      <React.Fragment>\n        <p>Músicas Recomendadas</p>\n        <Forms albumApi={ albumApi } />\n      </React.Fragment>\n    );\n  }\n\n  async recuperaUser() {\n    const userName = await getUser();\n    this.setState({ userName }, () => this.setState({ loading: false }));\n  }\n\n  buttonSearch() {\n    const { banda } = this.state;\n    this.setState({ loading: true, bandasave2: banda }, () => this.getsearchAlbumsAPI());\n  }\n\n  checkButtonSearch() {\n    const { banda } = this.state;\n    if (banda.length >= Number('2')) {\n      this.setState({ isButtonDSearch: false });\n    }\n  }\n\n   geraMusica(bandasave2, albumApi) {\n    return (\n      <React.Fragment>\n        <p>{`Resultado de álbuns de: ${bandasave2}`}</p>\n        <Forms albumApi={ albumApi } />\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    const { isButtonDSearch, bandasave2, albumApi, loading, userName, bandaRecomendacion } = this.state;\n    return loading ? <Loading /> : (\n      <div className=\"page-search\" data-testid=\"page-search\">\n        <div className=\"header\">\n          <Header userName={ userName }  />\n          <div className=\"barraBusca\">\n            <label htmlFor=\"search-artist-input\">\n              <input\n                type=\"text\"\n                data-testid=\"search-artist-input\"\n                id=\"search-artist-input\"\n                onChange={ this.handleChange }\n                placeholder=\"Digite a banda\"\n              />\n            </label>\n\n            <button\n              type=\"button\"\n              data-testid=\"search-artist-button\"\n              onClick={ this.buttonSearch }\n              disabled={ isButtonDSearch }\n            >\n              Pesquisar\n            </button>\n          </div>\n        </div>\n        <div className=\"musicas-contaneir\">\n          {albumApi.length === 0 ? this.geraMusicaRecom(bandaRecomendacion) : this.geraMusica(bandasave2, albumApi) }\n        </div>\n      </div>\n    );\n  }\n}\n","const getMusics = async (id) => {\n  const request = await fetch(`https://itunes.apple.com/lookup?id=${id}&entity=song`);\n  const requestJson = await request.json();\n  return requestJson.results;\n};\n\nexport default getMusics;\n","const FAVORITE_SONGS_KEY = 'favorite_songs';\nconst TIMEOUT = 500;\nconst SUCCESS_STATUS = 'OK';\n\nif (!JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY))) {\n  localStorage.setItem(FAVORITE_SONGS_KEY, JSON.stringify([]));\n}\nconst readFavoriteSongs = () => JSON.parse(localStorage.getItem(FAVORITE_SONGS_KEY));\n\nconst saveFavoriteSongs = (favoriteSongs) => localStorage\n  .setItem(FAVORITE_SONGS_KEY, JSON.stringify(favoriteSongs));\n\n// --------------------------------------------------------------------\n// A função simulateRequest simula uma requisição para uma API externa\n// Esse tipo de função que \"chama outra função\" é chamada de\n// \"currying function\" https://javascript.info/currying-partials\n// não se preocupe, estudaremos isso futuramente.\n// --------------------------------------------------------------------\n\nconst simulateRequest = (response) => (callback) => {\n  setTimeout(() => {\n    callback(response);\n  }, TIMEOUT);\n};\n\nexport const getFavoriteSongs = () => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  simulateRequest(favoriteSongs)(resolve);\n});\n\nexport const addSong = (song) => new Promise((resolve) => {\n  if (song) {\n    const favoriteSongs = readFavoriteSongs();\n    saveFavoriteSongs([...favoriteSongs, song]);\n  }\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n\nexport const removeSong = (song) => new Promise((resolve) => {\n  const favoriteSongs = readFavoriteSongs();\n  saveFavoriteSongs(favoriteSongs.filter((s) => s.trackId !== song.trackId));\n  simulateRequest(SUCCESS_STATUS)(resolve);\n});\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { addSong, getFavoriteSongs } from '../services/favoriteSongsAPI';\nimport getMusics from '../services/musicsAPI';\n\n\nexport default class CardMusic extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checked: false,\n      music: [],\n      favorite: false,\n    };\n    this.getMusicFavorita = this.getMusicFavorita.bind(this);\n    this.setStateMusic = this.setStateMusic.bind(this);\n    this.trackMeu = this.trackMeu.bind(this);\n  }\n\n  componentDidMount() {\n    const { trackMeu } = this.props;\n    this.trackMeu(trackMeu)\n\n  }\n\n  async trackMeu(trackMeu) {\n    const music = await getMusics(trackMeu);\n    console.log(music);\n    this.setState({ music });\n  }\n\n  async getMusicFavorita({ target }) {\n    const musicaId = target.name;\n    this.setStateMusic(musicaId)\n  }\n\n  async setStateMusic(musicaId) {\n    const { checked } = this.state;\n    await addSong(musicaId);\n    if (checked) {\n      this.setState({ checked: false });\n    } else {\n      this.setState({ checked: true });\n    }\n    await getFavoriteSongs();\n  }\n\n  // saveid é porque addSong recebe o mesmo paramentro de getMusic\n  render() {\n    const { previewUrl, trackName, trackId, saveId, trackMeu } = this.props;\n    const { checked } = this.state;\n    return (\n        <div className=\"music-card\">\n          <p>{ trackName }</p>\n            <audio  data-testid=\"audio-component\" src={ previewUrl } controls>\n              <track kind=\"captions\" />\n              O seu navegador não suporta o elemento\n              {' '}\n              <code>audio</code>\n              .\n            </audio>\n        </div>\n    );\n  }\n}\n\nCardMusic.propTypes = {\n  previewUrl: PropTypes.string.isRequired,\n  trackName: PropTypes.string.isRequired,\n  trackId: PropTypes.number.isRequired,\n  saveId: PropTypes.string.isRequired,\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport getMusics from '../services/musicsAPI';\nimport Loading from '../components/ Loading';\nimport MusicCard from '../components/MusicCard';\nimport { getUser } from '../services/userAPI';\n\nexport default class Album extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      musicAlbum: [],\n      saveId: '',\n      userName: '',\n    };\n  }\n\n  componentDidMount() {\n    const { match } = this.props;\n    const { params: { id } } = match;\n    this.getMusicAlbum(id);\n    this.recuperaUser();\n  }\n\n  async recuperaUser() {\n    const userName = await getUser();\n    this.setState({ userName }, () => this.setState({ loading: false }));\n  }\n\n  async getMusicAlbum(id) {\n    const musicAlbum = await getMusics(id);\n    this.setState({ musicAlbum, saveId: id });\n  }\n\n  render() {\n    const { musicAlbum, loading, saveId, userName } = this.state;\n    return (\n      <div data-testid=\"page-album\">\n        {loading ? <Loading /> : (\n          <div className=\"album-id\">\n            <header className=\"header\">\n              <Header userName={ userName } />\n            </header>\n            <div className=\"title-grid\">\n              <h1 data-testid=\"artist-name\">{musicAlbum[0].artistName}</h1>\n              <p data-testid=\"album-name\">{musicAlbum[0].collectionName}</p>\n            </div>\n            {/* usar o slice para pular o primeiro objeto que não é musica\n            Source: https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Array/slice */}\n            <div className=\"music-grid\">\n              {musicAlbum.slice(1).map(({ trackName, previewUrl, trackId }) => (\n                <MusicCard\n                  key={ trackName }\n                  trackName={ trackName }\n                  previewUrl={ previewUrl }\n                  trackId={ trackId }\n                  saveId={ saveId }\n                />\n              ))}\n            </div>\n          </div>\n        ) }\n      </div>\n    );\n  }\n}\n// https://stackoverflow.com/questions/47519612/eslint-match-is-missing-in-props-validation-react-prop-types\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }),\n};\n\nAlbum.defaultProps = {\n  match: { params: { id: 'Nenhum album selecionado' } },\n};\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nexport default class Favorites extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-favorites\">\n        <Header />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nexport default class Profile extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile\">\n        <Header />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport Header from '../components/Header';\n\nexport default class ProfileEdit extends Component {\n  render() {\n    return (\n      <div data-testid=\"page-profile-edit\">\n        <Header />\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nexport default class NotFound extends Component {\n  render() {\n    return (\n      <div className=\"notfound\" data-testid=\"page-not-found\">\n        <h1>NotFound</h1>\n        <Link to=\"/search\" data-testid=\"link-to-search\">HOME</Link>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport { HashRouter, Route } from 'react-router-dom';\nimport { Switch } from 'react-router';\nimport Login from './pages/Login';\nimport Search from './pages/Search';\nimport Album from './pages/Album';\nimport Favorites from './pages/Favorites';\nimport Profile from './pages/Profile';\nimport ProfileEdit from './pages/ProfileEdit';\nimport NotFound from './pages/NotFound';\nimport { createUser } from './services/userAPI';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      userName: '',\n      isButtonDisable: true,\n      loading: false,\n      irSearch: false,\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.checkButton = this.checkButton.bind(this);\n    this.onClickButton = this.onClickButton.bind(this);\n  }\n\n  handleChange({ target }) {\n    const valueDigitado = target.value;\n    this.setState({ userName: valueDigitado }, () => this.checkButton());\n  }\n\n  onClickButton() {\n    // Source usado: https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\n    const { userName } = this.state;\n    this.setState({ loading: true },\n      () => createUser({ name: userName }).then(() => this.setState({\n        loading: false,\n        irSearch: true,\n      })));\n  }\n\n  checkButton() {\n    const { userName } = this.state;\n    if (userName.length >= Number('3')) {\n      this.setState({ isButtonDisable: false });\n    }\n  }\n\n  render() {\n    const {\n      isButtonDisable,\n      loading,\n      irSearch,\n    } = this.state;\n    return (\n      <HashRouter>\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={ (props) => (<Login\n              { ...props }\n              handleChange={ this.handleChange }\n              isButtonDisable={ isButtonDisable }\n              onClickButton={ this.onClickButton }\n              loading={ loading }\n              irSearch={ irSearch }\n            />) }\n          />\n          <Route exact path=\"/album/:id\" render={ (props) => <Album { ...props } /> } />\n          <Route\n            exact\n            path=\"/favorites\"\n            render={ (props) => <NotFound { ...props } />  }\n          />\n          <Route exact path=\"/profile\" render={ (props) => <NotFound { ...props } />  } />\n          <Route\n            path=\"/profile/edit\"\n            render={ (props) => (<NotFound { ...props } /> ) }\n          />\n          <Route exact path=\"/search\" render={ (props) => <Search { ...props } /> } />\n          <Route exact render={ (props) => <NotFound { ...props } /> } />\n        </Switch>\n      </HashRouter>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}